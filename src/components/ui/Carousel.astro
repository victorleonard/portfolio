---
// src/components/Carousel.astro

// Utilisation de directives frontmatter pour importer des styles et des scripts
import 'swiper/css';

const {
  images = []
} = Astro.props;
---

<!-- Slider main container -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<div class="swiper-container sm:w-full m-auto">
	<div class="swiper-wrapper">
		{
			images.map((image: any) => (
			<div class="swiper-slide"><img src={image.src} /></div>
			))
	}
	</div>
	<div class="swiper-pagination"></div>
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
</div>

<!-- Script pour initialiser Swiper -->
<script>
	import Swiper from 'swiper/bundle';
  document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper('.swiper-container', {
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  });
</script>

<style>
	@media (min-width: 640px) {
		.swiper-container {
			width: 100%;
		}
	 }

	@media (min-width: 768px) {
		.swiper-container {
			width: 40vw;
		}
	 }
	 @media (min-width: 1024px) {
		.swiper-container {
			width: 40vw;
		}
	 }
	 @media (min-width: 1280px) {
		.swiper-container {
			width: 680px;
		}
	 }
	.swiper-container {
		overflow: hidden;
		position: relative;
	}
	.swiper {
      height: 100%;
    }

    .swiper-slide {
      text-align: center;
      font-size: 18px;
      background: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .swiper-slide img {
      display: block;
			width: 100%;
      object-fit: cover;
    }
</style>
